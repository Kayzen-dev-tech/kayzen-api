<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=0.95, maximum-scale=0.95, user-scalable=no, viewport-fit=cover">
    <title>Code Snippets - Shin Haein</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Space+Mono:ital,wght@0,400;0,700;1,400&family=JetBrains+Mono:wght@400;700;800&display=swap">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { mono: ['"JetBrains Mono"', 'monospace'], display: ['"Space Mono"', 'monospace'], },
                    colors: { 'bg-main': '#f8fafc', 'term-bg': '#1e1e1e', 'primary': '#8b5cf6', },
                    boxShadow: { 
                        'hard': '4px 4px 0px 0px #8b5cf6', 
                        'hard-hover': '2px 2px 0px 0px #8b5cf6',
                    },
                    animation: { 'slide-down': 'slideDown 0.3s ease-out forwards', 'fade-in': 'fadeIn 0.3s ease-out forwards' },
                    keyframes: {
                        slideDown: { '0%': { opacity: '0', transform: 'translateY(-10px)' }, '100%': { opacity: '1', transform: 'translateY(0)' } },
                        fadeIn: { 'from': { opacity: '0', transform: 'translateY(10px)' }, 'to': { opacity: '1', transform: 'translateY(0)' } }
                    }
                }
            }
        }
    </script>
    <style>
        #fixed-bg {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -50;
            background-image: url('https://c.termai.cc/i181/aGwK.png'), url('https://c.termai.cc/i155/wbV.jpg');
            background-position: bottom right, center center; background-size: 85% auto, cover; background-repeat: no-repeat;
        }
        @media (max-width: 768px) { #fixed-bg { background-size: 110% auto, cover; } }
        .backdrop-overlay { background-color: rgba(255, 255, 255, 0.6); position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -40; }
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #8b5cf6; border-radius: 3px; }

        .code-card {
            background: white; 
            border: 2px solid #8b5cf6; 
            border-radius: 0.5rem; 
            padding: 1rem;
            transition: all 0.2s; 
            box-shadow: 4px 4px 0px 0px #8b5cf6; 
            position: relative;
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
        }
        .code-card:hover { transform: translate(-2px, -2px); box-shadow: 6px 6px 0px 0px #8b5cf6; }
        #searchInput:focus { box-shadow: 4px 4px 0px 0px #8b5cf6; transform: translate(-2px, -2px); }
        
        #view-detail pre code {
            white-space: pre-wrap !important;
            word-wrap: break-word !important;
            word-break: break-word !important;
            overflow-wrap: break-word !important;
            overflow-x: hidden !important;
            font-family: 'JetBrains Mono', monospace !important;
            font-size: 14px !important;
            line-height: 1.6 !important;
            tab-size: 4 !important;
        }

        #view-detail pre {
            white-space: pre-wrap !important;
            word-wrap: break-word !important;
            overflow-x: hidden !important;
            overflow-y: auto !important;
            max-height: 700px !important;
            font-family: 'JetBrains Mono', monospace !important;
            font-size: 14px !important;
            line-height: 1.6 !important;
            tab-size: 4 !important;
            -moz-tab-size: 4 !important;
        }

        #view-detail .code-wrapper {
            white-space: pre-wrap;
            word-break: break-word;
            overflow-wrap: break-word;
        }
        
        @media (max-width: 768px) {
            html, body {
                zoom: 0.95;
                -moz-transform: scale(0.95);
                -moz-transform-origin: 0 0;
                -o-transform: scale(0.95);
                -o-transform-origin: 0 0;
                -webkit-transform: scale(0.95);
                -webkit-transform-origin: 0 0;
                transform: scale(0.95);
                transform-origin: 0 0;
                width: 105.26%;
                height: 105.26%;
                overflow-x: hidden;
            }
            
            #view-detail pre {
                font-size: 13px !important;
                padding: 14px !important;
                overflow-x: hidden !important;
                overflow-y: auto !important;
                max-height: 450px !important;
                white-space: pre-wrap !important;
                tab-size: 4 !important;
            }
            
            #viewCode {
                font-size: 13px !important;
                line-height: 1.5 !important;
                white-space: pre-wrap !important;
                word-break: break-word !important;
                tab-size: 4 !important;
            }
            
            .bg-term-bg {
                border-radius: 8px;
                overflow: hidden;
                margin-top: 10px;
            }
            
            #view-detail button {
                padding: 10px 14px;
                min-height: 40px;
                font-size: 12px;
            }
            
            #view-detail .bg-\[\#2d2d2d\] {
                padding: 12px 14px;
            }
            
            .code-page pre[class*="language-"] {
                margin: 0 !important;
                border-radius: 0 0 8px 8px !important;
                background: #0d1117 !important;
                border-top: 1px solid #30363d;
                font-size: 13px !important;
                white-space: pre-wrap !important;
                tab-size: 4 !important;
            }
            
            .code-page code[class*="language-"] {
                font-size: 13px !important;
                white-space: pre-wrap !important;
                tab-size: 4 !important;
            }
            
            .code-card {
                padding: 14px;
                flex-direction: column;
                align-items: flex-start;
                gap: 12px;
                margin-bottom: 10px;
            }
            
            .code-card > div:first-child {
                width: 100%;
            }
            
            .code-card .flex.items-center.gap-4 {
                width: 100%;
            }
            
            #searchInput {
                height: 55px;
                font-size: 15px;
                padding-left: 50px;
            }
            
            .fa-magnifying-glass {
                top: 18px;
                left: 16px;
                font-size: 18px;
            }
            
            .max-w-\[95\%\] {
                max-width: 100% !important;
                padding-left: 8px;
                padding-right: 8px;
            }
            
            #addCodeModal > div {
                max-height: 80vh;
                overflow-y: auto;
                width: 95%;
                margin: 0 auto;
            }
            
            #codeGrid {
                gap: 10px;
            }
            
            #tagFilters {
                overflow-x: auto;
                padding-bottom: 10px;
                -webkit-overflow-scrolling: touch;
            }
            
            #tagFilters button {
                padding: 8px 12px;
                font-size: 11px;
                white-space: nowrap;
            }
            
            #viewTitle {
                font-size: 26px;
                line-height: 1.2;
            }
            
            #viewDesc {
                font-size: 14px;
                line-height: 1.5;
            }
            
            .bg-\[\#2d2d2d\] .flex.gap-1\.5 > div {
                width: 12px;
                height: 12px;
            }
            
            -webkit-text-size-adjust: 100%;
            -ms-text-size-adjust: 100%;
            text-size-adjust: 100%;
        }
        
        @media (max-width: 480px) {
            html, body {
                zoom: 0.93;
                -moz-transform: scale(0.93);
                -moz-transform-origin: 0 0;
                -o-transform: scale(0.93);
                -o-transform-origin: 0 0;
                -webkit-transform: scale(0.93);
                -webkit-transform-origin: 0 0;
                transform: scale(0.93);
                transform-origin: 0 0;
                width: 107.53%;
                height: 107.53%;
            }
            
            #view-detail pre {
                font-size: 12px !important;
                padding: 12px !important;
                white-space: pre-wrap !important;
                tab-size: 4 !important;
            }
            
            #viewCode {
                font-size: 12px !important;
                white-space: pre-wrap !important;
                tab-size: 4 !important;
            }
            
            #viewTitle {
                font-size: 22px;
            }
            
            .code-card {
                padding: 12px;
            }
            
            #view-detail .bg-\[\#2d2d2d\] .flex.gap-2 button {
                padding: 8px 12px;
                font-size: 10px;
                margin: 2px;
            }
            
            @media (max-width: 360px) {
                #view-detail .bg-\[\#2d2d2d\] .flex.gap-2 {
                    flex-direction: column;
                    gap: 5px;
                }
                
                #view-detail .bg-\[\#2d2d2d\] {
                    padding: 10px;
                }
            }
        }
        
        .custom-scrollbar {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }
        
        .is-mobile #view-detail pre {
            font-size: 13px !important;
            overflow-x: hidden !important;
            white-space: pre-wrap !important;
        }
        
        body {
            touch-action: pan-x pan-y;
        }
    </style>
</head>
<body class="text-slate-800 min-h-screen flex flex-col font-mono overflow-x-hidden relative code-page">

    <div id="fixed-bg"></div>
    <div class="backdrop-overlay"></div>

    <nav class="border-b-2 border-primary bg-white/90 sticky top-0 z-[60] mb-8">
        <div class="max-w-[95%] xl:max-w-7xl mx-auto px-4 h-16 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <a href="/" class="w-10 h-10 bg-primary text-white flex items-center justify-center font-bold text-xl shadow-hard border-2 border-black hover:bg-primary/90 hover:scale-95 transition-all cursor-pointer">
                    <i class="fa-solid fa-arrow-left"></i>
                </a>
                <h1 class="font-display font-bold text-xl tracking-tighter uppercase italic text-primary">SNIPPETS</h1>
            </div>
            <button id="btnLoginNav" onclick="document.getElementById('loginModal').classList.remove('hidden')" class="border-2 border-primary bg-white px-4 py-2 text-primary font-bold shadow-hard hover:shadow-none hover:translate-x-[2px] hover:translate-y-[2px] transition-all text-xs flex items-center gap-2">
                <i class="fa-solid fa-user-shield"></i> ADMIN
            </button>
        </div>
    </nav>

    <div id="view-home" class="max-w-[95%] xl:max-w-7xl mx-auto px-4 pb-20 relative z-10">
        
        <div class="mb-8 space-y-4">
            <div class="relative w-full group">
                <input type="text" id="searchInput" placeholder="SEARCH SNIPPETS..." 
                    class="w-full h-14 border-2 border-primary px-4 pl-12 font-bold text-sm uppercase focus:outline-none focus:bg-white transition-all rounded shadow-sm placeholder:text-primary/40 bg-white/80">
                <i class="fa-solid fa-magnifying-glass absolute left-4 top-5 text-primary text-lg"></i>
            </div>
            
            <div id="tagFilters" class="flex flex-wrap gap-2">
                <button class="px-4 py-1.5 border-2 border-primary bg-primary text-white text-xs font-bold shadow-hard transition-all">ALL</button>
            </div>
        </div>

        <div id="codeGrid" class="flex flex-col gap-4">
            <div class="text-center py-10">
                <i class="fa-solid fa-circle-notch fa-spin text-3xl text-primary"></i>
            </div>
        </div>
        
        <button onclick="document.getElementById('addCodeModal').classList.remove('hidden')" class="fixed bottom-8 right-8 bg-primary hover:bg-primary/90 text-white w-14 h-14 border-2 border-black shadow-hard flex items-center justify-center text-xl transition transform hover:scale-105 z-50">
            <i class="fa-solid fa-plus"></i>
        </button>
    </div>

    <div id="view-detail" class="max-w-6xl mx-auto px-4 hidden relative z-10 pb-20">
        <button onclick="goHome()" class="mb-6 w-fit bg-white border-2 border-primary text-primary px-4 py-2 font-bold text-xs shadow-hard hover:shadow-none hover:translate-x-[1px] hover:translate-y-[1px] transition-all flex items-center gap-2">
            <i class="fa-solid fa-arrow-left"></i> BACK
        </button>

        <div id="detailLoader" class="text-center py-20 hidden">
            <i class="fa-solid fa-circle-notch fa-spin text-3xl text-primary"></i>
        </div>

        <div id="detailContent" class="animate-slide-down">
            <div class="bg-white border-2 border-primary shadow-hard rounded-lg p-6 mb-6">
                <h1 id="viewTitle" class="text-3xl font-display font-bold text-slate-800 mb-2 uppercase italic">Title</h1>
                <div class="flex flex-wrap gap-4 text-xs font-mono text-gray-500 border-b-2 border-dashed border-primary/20 pb-4 mb-4">
                    <span class="flex items-center gap-1"><i class="fa-solid fa-user text-primary"></i> KuroNeko</span>
                    <span class="flex items-center gap-1"><i class="fa-solid fa-fingerprint text-primary"></i> <span id="viewId">ID</span></span>
                    <span class="flex items-center gap-1"><i class="fa-regular fa-clock text-primary"></i> <span id="viewDate">-</span></span>
                </div>
                
                <div class="mb-4">
                    <span id="viewTag" class="bg-primary/10 text-primary border border-primary/30 px-2 py-1 text-[10px] font-bold uppercase rounded">TAG</span>
                </div>

                <p id="viewDesc" class="text-sm text-gray-600 font-mono leading-relaxed">...</p>
            </div>

            <div class="bg-term-bg border-2 border-primary shadow-hard rounded-lg overflow-hidden relative group">
                <div class="bg-[#2d2d2d] px-4 py-2 flex justify-between items-center border-b border-gray-700">
                    <div class="flex gap-1.5">
                        <div class="w-3 h-3 rounded-full bg-red-500"></div>
                        <div class="w-3 h-3 rounded-full bg-yellow-500"></div>
                        <div class="w-3 h-3 rounded-full bg-green-500"></div>
                        <span id="viewFilename" class="ml-3 text-xs text-gray-400 font-mono font-bold">code.js</span>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="copyCode()" class="text-[10px] bg-white text-black font-bold px-2 py-1 rounded hover:bg-gray-200 transition">COPY</button>
                        <button id="viewRawLink" class="text-[10px] bg-primary text-white font-bold px-2 py-1 rounded hover:bg-primary/80 transition">RAW</button>
                    </div>
                </div>
                <pre class="!m-0 !bg-[#1e1e1e] !p-4 custom-scrollbar max-h-[700px] overflow-auto">
                    <code id="viewCode" class="language-javascript"></code>
                </pre>
            </div>
        </div>
    </div>

    <div id="loginModal" class="hidden fixed inset-0 z-[100] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-fade-in">
        <div class="bg-white border-2 border-primary shadow-hard rounded-lg p-6 w-full max-w-sm relative">
            <button onclick="document.getElementById('loginModal').classList.add('hidden')" class="absolute top-2 right-3 text-gray-400 hover:text-red-500 text-xl font-bold">&times;</button>
            <h2 class="text-xl font-display font-bold text-primary mb-6 text-center">ADMIN ACCESS</h2>
            <div class="space-y-4">
                <input type="text" id="admUser" placeholder="USERNAME" class="w-full border-2 border-primary p-2 font-mono text-sm focus:outline-none focus:bg-primary/5 uppercase placeholder:normal-case">
                <input type="password" id="admPass" placeholder="PASSWORD" class="w-full border-2 border-primary p-2 font-mono text-sm focus:outline-none focus:bg-primary/5">
                <button id="btnLoginConfirm" onclick="doLogin()" class="w-full bg-primary text-white font-bold py-3 border-2 border-black shadow-hard hover:shadow-none hover:translate-x-[2px] hover:translate-y-[2px] transition-all">LOGIN</button>
            </div>
        </div>
    </div>

    <div id="addCodeModal" class="hidden fixed inset-0 z-[100] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-fade-in">
        <div class="bg-white border-2 border-primary shadow-hard rounded-lg p-6 w-full max-w-2xl relative max-h-[90vh] overflow-y-auto">
            <button onclick="document.getElementById('addCodeModal').classList.add('hidden')" class="absolute top-2 right-3 text-gray-400 hover:text-red-500 text-xl font-bold">&times;</button>
            
            <h2 class="text-xl font-display font-bold text-primary mb-6">NEW SNIPPET</h2>
            
            <form id="addCodeForm" class="space-y-4">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label class="text-[10px] font-bold text-gray-500 uppercase">Title</label>
                        <input type="text" name="title" placeholder="Snippet Name (e.g. Qris Payment)" class="w-full border-2 border-primary p-2 font-mono text-sm focus:outline-none" required>
                    </div>
                    <div>
                        <label class="text-[10px] font-bold text-gray-500 uppercase">Tags</label>
                        <input type="text" name="description" placeholder="#javascript #api" class="w-full border-2 border-primary p-2 font-mono text-sm focus:outline-none" required>
                    </div>
                </div>
                <div>
                    <label class="text-[10px] font-bold text-gray-500 uppercase">Code</label>
                    <textarea name="content" rows="15" class="w-full border-2 border-primary p-2 font-mono text-xs focus:outline-none bg-gray-50" required placeholder="// Paste your code here..."></textarea>
                </div>
                <button type="submit" class="w-full bg-primary text-white font-bold py-3 border-2 border-black shadow-hard hover:shadow-none hover:translate-x-[2px] hover:translate-y-[2px] transition-all">SAVE SNIPPET</button>
            </form>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
    <script src="/script.js"></script>
</body>
</html>
