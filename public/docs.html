<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Docs - Kayzen</title>
    <style>
        body { background-color: #0a0a12; color: #e0e0e0; font-family: 'Courier New', monospace; padding: 20px; }
        .container { max-width: 900px; margin: auto; }
        .endpoint { background: #161625; padding: 15px; margin-bottom: 15px; border-left: 5px solid #00f3ff; border-radius: 4px; }
        .method { font-weight: bold; color: #00f3ff; margin-right: 10px; }
        .path { font-size: 1.1em; }
        .controls { margin-top: 10px; display: flex; gap: 10px; }
        input { background: #000; border: 1px solid #333; color: #fff; padding: 8px; width: 100%; font-family: inherit; }
        button { background: #00f3ff; border: none; padding: 8px 15px; font-weight: bold; cursor: pointer; }
        button:hover { background: #fff; }
        pre { background: #000; padding: 10px; border: 1px solid #333; overflow-x: auto; max-height: 200px; }
        .badge { background: #333; padding: 2px 6px; font-size: 0.8em; border-radius: 3px; }
        h1 { border-bottom: 2px solid #00f3ff; padding-bottom: 10px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Kayzen API Documentation</h1>
        <p>Base URL: <span id="baseurl">...</span> | API Key: <strong>kayzen123</strong></p>
        <p><a href="/" style="color: #00f3ff;">&larr; Back to Home</a></p>

        <div id="endpoints-container"></div>
    </div>

    <script>
        document.getElementById('baseurl').innerText = window.location.origin;

        const endpoints = [
            { method: 'GET', path: '/api/tiktok', param: 'url', desc: 'Download TikTok Video' },
            { method: 'GET', path: '/api/mxdrop', param: 'url', desc: 'MxDrop Scraper' },
            { method: 'GET', path: '/api/pinterest', param: 'query', desc: 'Search Pinterest Images' },
            { method: 'GET', path: '/api/ai/chat', param: 'prompt', desc: 'AI Chat Bot' },
            { method: 'GET', path: '/api/ai/image', param: 'prompt', desc: 'Generate Image URL' },
            { method: 'GET', path: '/api/ai/code', param: 'prompt', desc: 'Generate Code Snippet' },
            { method: 'GET', path: '/api/ai/translate', param: 'text', desc: 'Translate Text' },
            { method: 'GET', path: '/api/ai/summary', param: 'text', desc: 'Summarize Text' }
        ];

        const container = document.getElementById('endpoints-container');

        endpoints.forEach(ep => {
            const div = document.createElement('div');
            div.className = 'endpoint';
            div.innerHTML = `
                <div>
                    <span class="method">${ep.method}</span>
                    <span class="path">${ep.path}</span>
                    <span class="badge">${ep.desc}</span>
                </div>
                <div class="controls">
                    <input type="text" id="input-${ep.path}" placeholder="${ep.param} value...">
                    <button onclick="testEndpoint('${ep.path}', '${ep.param}')">TRY IT</button>
                </div>
                <pre id="output-${ep.path}">Result will appear here...</pre>
            `;
            container.appendChild(div);
        });

        async function testEndpoint(path, paramName) {
            const val = document.getElementById(`input-${path}`).value;
            const outputBox = document.getElementById(`output-${path}`);
            
            if(!val) {
                outputBox.innerText = `Error: Please enter ${paramName}`;
                return;
            }

            outputBox.innerText = 'Fetching...';
            try {
                const res = await fetch(`${path}?apikey=kayzen123&${paramName}=${encodeURIComponent(val)}`);
                const data = await res.json();
                outputBox.innerText = JSON.stringify(data, null, 2);
            } catch (err) {
                outputBox.innerText = 'Error: ' + err.message;
            }
        }
    </script>
</body>
</html>
