<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kayzen Izumi | Web API</title>
    <link rel="icon" href="https://i.ibb.co.com/wrrLvKCP/image.jpg" type="image/x-icon">
    
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://kayzen-api.vercel.app/">
    <meta property="og:title" content="Kayzen Izumi | Web API Professional">
    <meta property="og:description" content="Platform API multifungsi yang cepat dan handal oleh Kayzen Izumi.">
    <meta property="og:image" content="https://i.ibb.co.com/wrrLvKCP/image.jpg">

    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://kayzen-api.vercel.app/">
    <meta property="twitter:title" content="Kayzen Izumi | Web API">
    <meta property="twitter:description" content="Platform API multifungsi yang cepat dan handal oleh Kayzen Izumi.">
    <meta property="twitter:image" content="https://i.ibb.co.com/wrrLvKCP/image.jpg">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Poppins', 'sans-serif'] },
                    colors: {
                        dark: '#0f172a',
                        darker: '#020617',
                        accent: '#8b5cf6', // Violet
                        secondary: '#38bdf8' // Sky blue
                    }
                }
            }
        }
    </script>
    <style>
        body { background-color: #020617; color: #e2e8f0; }
        .glass-panel {
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .nav-item.active { color: #8b5cf6; border-bottom: 2px solid #8b5cf6; }
        .profile-img {
            width: 150px; height: 150px;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid #8b5cf6;
            box-shadow: 0 0 20px rgba(139, 92, 246, 0.5);
        }
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #0f172a; }
        ::-webkit-scrollbar-thumb { background: #334155; border-radius: 4px; }
        
        /* Animation */
        .animate-fade-in { animation: fadeIn 0.5s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <nav class="fixed top-0 w-full z-50 glass-panel shadow-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center">
                    <span class="font-bold text-xl text-accent"><i class="fas fa-code"></i> Kayzen API</span>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <button onclick="showPage('home')" class="nav-btn hover:text-accent px-3 py-2 rounded-md text-sm font-medium transition">Home</button>
                        <button onclick="showPage('about')" class="nav-btn hover:text-accent px-3 py-2 rounded-md text-sm font-medium transition">About Me</button>
                        <button onclick="showPage('request')" class="nav-btn hover:text-accent px-3 py-2 rounded-md text-sm font-medium transition">Request</button>
                        <button onclick="showPage('doc')" class="nav-btn hover:text-accent px-3 py-2 rounded-md text-sm font-medium transition"><i class="fas fa-book mr-1"></i> Docs</button>
                        <button onclick="showPage('contact')" class="nav-btn hover:text-accent px-3 py-2 rounded-md text-sm font-medium transition">Contact</button>
                        <button onclick="showPage('admin')" class="nav-btn hover:text-red-400 px-3 py-2 rounded-md text-sm font-medium transition">Admin</button>
                    </div>
                </div>
                <div class="-mr-2 flex md:hidden">
                    <button onclick="toggleMobileMenu()" class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
            </div>
        </div>
        <div id="mobile-menu" class="hidden md:hidden bg-darker">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <button onclick="showPage('home')" class="block w-full text-left px-3 py-2 rounded-md text-base font-medium hover:text-accent">Home</button>
                <button onclick="showPage('about')" class="block w-full text-left px-3 py-2 rounded-md text-base font-medium hover:text-accent">About</button>
                <button onclick="showPage('request')" class="block w-full text-left px-3 py-2 rounded-md text-base font-medium hover:text-accent">Request</button>
                <button onclick="showPage('doc')" class="block w-full text-left px-3 py-2 rounded-md text-base font-medium hover:text-accent">Documentation</button>
                <button onclick="showPage('contact')" class="block w-full text-left px-3 py-2 rounded-md text-base font-medium hover:text-accent">Contact</button>
                <button onclick="showPage('admin')" class="block w-full text-left px-3 py-2 rounded-md text-base font-medium hover:text-red-400">Admin</button>
            </div>
        </div>
    </nav>

    <main class="flex-grow pt-24 pb-10 px-4 sm:px-6 lg:px-8 max-w-5xl mx-auto w-full">
        
        <div id="home" class="page-section text-center animate-fade-in">
            <div class="mt-10">
                <img src="https://i.ibb.co.com/wrrLvKCP/image.jpg" alt="Kayzen Profile" class="profile-img mx-auto mb-6">
                <h1 class="text-4xl md:text-6xl font-bold mb-4">Hi, I'm <span class="text-accent">Kayzen Izumi</span></h1>
                <p class="text-lg text-gray-400 mb-8">Full Stack Developer | API Enthusiast | Tech Explorer</p>
                <div class="flex justify-center gap-4">
                    <button onclick="showPage('request')" class="bg-accent hover:bg-violet-700 text-white font-bold py-2 px-6 rounded-full transition shadow-[0_0_15px_rgba(139,92,246,0.5)]">
                        Make a Request
                    </button>
                    <button onclick="showPage('doc')" class="border border-accent text-accent hover:bg-accent hover:text-white font-bold py-2 px-6 rounded-full transition">
                        Explore API
                    </button>
                </div>
            </div>
        </div>

        <div id="about" class="page-section hidden">
            <h2 class="text-3xl font-bold text-accent mb-6 border-b border-gray-700 pb-2">About Me</h2>
            <div class="grid md:grid-cols-2 gap-8 items-center">
                <div class="glass-panel p-6 rounded-xl">
                    <h3 class="text-xl font-semibold mb-2">Kayzen Izumi</h3>
                    <p class="text-gray-300 text-sm leading-relaxed">
                        Seorang pengembang web yang berdedikasi dengan ketertarikan mendalam pada teknologi backend dan API. 
                        Web ini dibangun menggunakan Node.js, Express, dan di-hosting di Vercel dengan database Supabase.
                    </p>
                    <div class="mt-4">
                        <span class="inline-block bg-gray-700 rounded-full px-3 py-1 text-xs font-semibold text-gray-300 mr-2 mb-2">#NodeJS</span>
                        <span class="inline-block bg-gray-700 rounded-full px-3 py-1 text-xs font-semibold text-gray-300 mr-2 mb-2">#Express</span>
                        <span class="inline-block bg-gray-700 rounded-full px-3 py-1 text-xs font-semibold text-gray-300 mr-2 mb-2">#Supabase</span>
                    </div>
                </div>
                <div class="glass-panel p-6 rounded-xl">
                    <h3 class="text-xl font-semibold mb-2">Quick Stats</h3>
                    <p class="text-sm text-gray-400 mb-2">Server Status: <span class="text-green-400">Online</span></p>
                    <ul class="space-y-2 text-sm">
                        <li class="flex justify-between border-b border-gray-700 pb-1"><span>Backend</span> <span class="text-white">Node.js / Express</span></li>
                        <li class="flex justify-between border-b border-gray-700 pb-1"><span>Frontend</span> <span class="text-white">HTML / Tailwind</span></li>
                        <li class="flex justify-between"><span>Database</span> <span class="text-white">Supabase (PostgreSQL)</span></li>
                    </ul>
                </div>
            </div>
        </div>

        <div id="request" class="page-section hidden">
            <h2 class="text-3xl font-bold text-accent mb-6">Submit Request</h2>
            <div class="glass-panel p-8 rounded-xl max-w-lg mx-auto">
                <form id="requestForm" onsubmit="submitRequest(event)">
                    <div class="mb-4">
                        <label class="block text-sm font-bold mb-2">Name</label>
                        <input type="text" id="reqName" class="w-full bg-dark border border-gray-600 rounded p-3 focus:outline-none focus:border-accent" placeholder="Your Name" required>
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-bold mb-2">Contact (WA/Email)</label>
                        <input type="text" id="reqContact" class="w-full bg-dark border border-gray-600 rounded p-3 focus:outline-none focus:border-accent" placeholder="How can we reach you?">
                    </div>
                    <div class="mb-6">
                        <label class="block text-sm font-bold mb-2">Message / Request</label>
                        <textarea id="reqMessage" rows="4" class="w-full bg-dark border border-gray-600 rounded p-3 focus:outline-none focus:border-accent" placeholder="What do you need?" required></textarea>
                    </div>
                    <button type="submit" class="w-full bg-accent hover:bg-violet-700 text-white font-bold py-3 rounded-lg transition">
                        <i class="fas fa-paper-plane mr-2"></i> Send Request
                    </button>
                </form>
            </div>
        </div>

        <div id="doc" class="page-section hidden animate-fade-in">
            <div class="text-center mb-10">
                <h2 class="text-3xl font-bold text-accent mb-2">API Documentation</h2>
                <p class="text-gray-400">Panduan lengkap menggunakan Kayzen API.</p>
                <div class="mt-4 bg-gray-900 inline-block px-4 py-2 rounded-lg border border-gray-700">
                    <span class="text-gray-500 mr-2">Base URL:</span>
                    <code class="text-green-400 font-mono">/api</code>
                </div>
            </div>

            <div class="grid gap-6">
                <div class="glass-panel p-6 rounded-xl border-l-4 border-green-500">
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center gap-3">
                            <span class="bg-green-500/20 text-green-400 px-3 py-1 rounded text-xs font-bold border border-green-500/50">GET</span>
                            <code class="text-lg font-mono text-white">/</code>
                        </div>
                        <span class="text-xs text-gray-500 border border-gray-700 px-2 py-1 rounded">Public</span>
                    </div>
                    <p class="text-gray-300 text-sm mb-4">Mengecek status server API.</p>
                    <div class="bg-black/50 rounded-lg p-4 font-mono text-xs overflow-x-auto">
<pre class="text-green-400">
{
  "message": "Welcome to Kayzen Izumi API",
  "status": "Active"
}
</pre>
                    </div>
                </div>

                <div class="glass-panel p-6 rounded-xl border-l-4 border-accent">
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center gap-3">
                            <span class="bg-accent/20 text-accent px-3 py-1 rounded text-xs font-bold border border-accent/50">GET</span>
                            <code class="text-lg font-mono text-white">/aio</code>
                        </div>
                        <span class="text-xs text-gray-500 border border-gray-700 px-2 py-1 rounded">Public</span>
                    </div>
                    <p class="text-gray-300 text-sm mb-4">All-in-One Downloader (Instagram, TikTok, FB, etc.) menggunakan engine AIO.</p>
                    
                    <div class="bg-black/50 rounded-lg p-4 font-mono text-xs overflow-x-auto">
                        <p class="text-gray-500 mb-2">// Query Parameter</p>
                        <p class="text-accent">?url=https://www.instagram.com/p/xxxx</p>
                        <p class="text-gray-500 mt-4 mb-2">// Response Example</p>
<pre class="text-accent">
{
  "title": "Instagram post shared by...",
  "thumbnail": "...",
  "links": [
    {
      "url": "https://cdn.link...",
      "type": "jpg/mp4",
      "quality": "HD"
    }
  ]
}
</pre>
                    </div>
                </div>

                <div class="glass-panel p-6 rounded-xl border-l-4 border-red-500">
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center gap-3">
                            <span class="bg-red-500/20 text-red-400 px-3 py-1 rounded text-xs font-bold border border-red-500/50">POST</span>
                            <code class="text-lg font-mono text-white">/admin/*</code>
                        </div>
                        <span class="text-xs text-red-400 border border-red-900/50 bg-red-900/10 px-2 py-1 rounded">Admin Only</span>
                    </div>
                    <p class="text-gray-300 text-sm mb-4">Endpoint manajemen data (Butuh Password).</p>
                    <div class="space-y-2">
                        <div class="bg-gray-800 p-2 rounded text-xs font-mono"><span class="text-blue-400">/login</span> : Verifikasi Password</div>
                        <div class="bg-gray-800 p-2 rounded text-xs font-mono"><span class="text-red-400">/admin/data</span> : Lihat Semua Request</div>
                        <div class="bg-gray-800 p-2 rounded text-xs font-mono"><span class="text-red-400">/admin/delete</span> : Hapus Request</div>
                    </div>
                </div>
            </div>
        </div>

        <div id="contact" class="page-section hidden">
            <h2 class="text-3xl font-bold text-accent mb-6 text-center">Get in Touch</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                <a href="https://wa.me/628152313006" target="_blank" class="glass-panel p-4 rounded-xl flex items-center hover:bg-gray-800 transition">
                    <i class="fab fa-whatsapp text-green-500 text-2xl mr-4"></i>
                    <div><p class="text-xs text-gray-400">WhatsApp</p><p class="font-bold">+62 815-2313-006</p></div>
                </a>
                <a href="https://t.me/nonewpo" target="_blank" class="glass-panel p-4 rounded-xl flex items-center hover:bg-gray-800 transition">
                    <i class="fab fa-telegram text-blue-400 text-2xl mr-4"></i>
                    <div><p class="text-xs text-gray-400">Telegram</p><p class="font-bold">@nonewpo</p></div>
                </a>
                <a href="https://github.com/Kayzen-dev-tech" target="_blank" class="glass-panel p-4 rounded-xl flex items-center hover:bg-gray-800 transition">
                    <i class="fab fa-github text-white text-2xl mr-4"></i>
                    <div><p class="text-xs text-gray-400">GitHub</p><p class="font-bold">Kayzen-dev-tech</p></div>
                </a>
                <a href="mailto:kayzz.my@gmail.com" class="glass-panel p-4 rounded-xl flex items-center hover:bg-gray-800 transition">
                    <i class="fas fa-envelope text-red-500 text-2xl mr-4"></i>
                    <div><p class="text-xs text-gray-400">Email</p><p class="font-bold">kayzz.my@gmail.com</p></div>
                </a>
                <a href="https://youtube.com/@kayzenfry" target="_blank" class="glass-panel p-4 rounded-xl flex items-center hover:bg-gray-800 transition">
                    <i class="fab fa-youtube text-red-600 text-2xl mr-4"></i>
                    <div><p class="text-xs text-gray-400">YouTube</p><p class="font-bold">kayzenfry</p></div>
                </a>
                <a href="https://tiktok.com/@sczkayzen" target="_blank" class="glass-panel p-4 rounded-xl flex items-center hover:bg-gray-800 transition">
                    <i class="fab fa-tiktok text-pink-500 text-2xl mr-4"></i>
                    <div><p class="text-xs text-gray-400">TikTok</p><p class="font-bold">@sczkayzen</p></div>
                </a>
            </div>
        </div>

        <div id="admin" class="page-section hidden">
            <h2 class="text-3xl font-bold text-red-400 mb-6">Admin Panel</h2>
            <div id="adminLogin" class="max-w-sm mx-auto glass-panel p-6 rounded-xl text-center">
                <i class="fas fa-lock text-4xl text-red-400 mb-4"></i>
                <input type="password" id="adminPass" class="w-full bg-dark border border-gray-600 rounded p-2 mb-4 text-center focus:border-red-400 outline-none" placeholder="Enter Password">
                <button onclick="adminLogin()" class="w-full bg-red-600 hover:bg-red-500 py-2 rounded transition font-bold">Access Dashboard</button>
            </div>

            <div id="adminDashboard" class="hidden animate-fade-in">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-xl font-bold"><i class="fas fa-inbox mr-2"></i>Incoming Requests</h3>
                    <button onclick="loadAdminData()" class="text-sm bg-blue-600 hover:bg-blue-500 px-4 py-2 rounded transition">Refresh Data</button>
                </div>
                <div class="overflow-x-auto glass-panel rounded-xl">
                    <table class="w-full text-left border-collapse">
                        <thead>
                            <tr class="text-gray-400 border-b border-gray-700 bg-black/30">
                                <th class="p-3">Date</th>
                                <th class="p-3">Name</th>
                                <th class="p-3">Message</th>
                                <th class="p-3">Contact</th>
                                <th class="p-3">Action</th>
                            </tr>
                        </thead>
                        <tbody id="requestTableBody" class="text-sm"></tbody>
                    </table>
                </div>
            </div>
        </div>
    </main>

    <footer class="text-center py-6 text-gray-500 text-xs">
        &copy; 2026 <span class="text-accent">Kayzen Izumi</span>. All rights reserved.
    </footer>

    <script>
        function showPage(pageId) {
            document.querySelectorAll('.page-section').forEach(el => el.classList.add('hidden'));
            document.getElementById(pageId).classList.remove('hidden');
            document.getElementById('mobile-menu').classList.add('hidden');
            window.scrollTo(0, 0);
        }

        function toggleMobileMenu() {
            document.getElementById('mobile-menu').classList.toggle('hidden');
        }

        async function submitRequest(e) {
            e.preventDefault();
            const btn = e.target.querySelector('button');
            const originalText = btn.innerHTML;
            btn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>Sending...';
            btn.disabled = true;

            const payload = {
                name: document.getElementById('reqName').value,
                message: document.getElementById('reqMessage').value,
                contact: document.getElementById('reqContact').value
            };

            try {
                const res = await fetch('/api/request', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                const data = await res.json();
                if(data.success) {
                    alert('Request sent successfully!');
                    document.getElementById('requestForm').reset();
                } else {
                    alert('Error: ' + (data.error || 'Failed to send'));
                }
            } catch (err) {
                alert('Connection error');
            } finally {
                btn.innerHTML = originalText;
                btn.disabled = false;
            }
        }

        let adminToken = '';
        async function adminLogin() {
            const pass = document.getElementById('adminPass').value;
            try {
                const res = await fetch('/api/login', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ password: pass })
                });
                const data = await res.json();
                if(data.success) {
                    adminToken = pass;
                    document.getElementById('adminLogin').classList.add('hidden');
                    document.getElementById('adminDashboard').classList.remove('hidden');
                    loadAdminData();
                } else {
                    alert('Wrong Password!');
                }
            } catch (err) { alert('Error logging in'); }
        }

        async function loadAdminData() {
            const tbody = document.getElementById('requestTableBody');
            tbody.innerHTML = '<tr><td colspan="5" class="text-center p-8"><i class="fas fa-circle-notch fa-spin mr-2"></i>Loading data...</td></tr>';

            try {
                const res = await fetch('/api/admin/data', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ password: adminToken })
                });
                const data = await res.json();
                
                tbody.innerHTML = '';
                if (data.length === 0) {
                    tbody.innerHTML = '<tr><td colspan="5" class="text-center p-8 text-gray-500">No requests found.</td></tr>';
                    return;
                }

                data.forEach(item => {
                    const date = new Date(item.created_at).toLocaleDateString('id-ID');
                    const row = `
                        <tr class="border-b border-gray-800 hover:bg-gray-900/50 transition">
                            <td class="p-3 text-gray-400">${date}</td>
                            <td class="p-3 font-bold text-accent">${item.name}</td>
                            <td class="p-3">${item.message}</td>
                            <td class="p-3 text-gray-400">${item.contact_info || '-'}</td>
                            <td class="p-3">
                                <button onclick="deleteRequest(${item.id})" class="text-red-500 hover:text-red-300 transition">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </td>
                        </tr>
                    `;
                    tbody.innerHTML += row;
                });
            } catch (err) { tbody.innerHTML = '<tr><td colspan="5" class="text-center text-red-500 p-8">Failed to load data.</td></tr>'; }
        }

        async function deleteRequest(id) {
            if(!confirm('Delete this request permanently?')) return;
            try {
                const res = await fetch('/api/admin/delete', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ password: adminToken, id: id })
                });
                if(res.ok) loadAdminData();
                else alert('Delete failed');
            } catch (err) { alert('Delete failed'); }
        }
    </script>
</body>
</html>
